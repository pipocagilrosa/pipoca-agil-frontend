<div class="content">
    <div class="box-subtitle">
        <h3 class="subtitle" *ngIf="!resetScreen" style="margin-bottom: 71px;">Senha Atual</h3>
        <h3 class="subtitle">Nova Senha</h3>
        <h3 class="subtitle">Confirmar Senha</h3>
        <button class="cancel-button button" type="button" onclick="history.back()">
            Cancelar
        </button>
    </div>
    <div class="box-text">
        <form action="" [formGroup]="accountDetails">
            <div *ngIf="!resetScreen">
                <div style="display: flex;">
                    <input class="input" [type]="hide ? 'password' : 'text'" formControlName="password"
                        (ngModelChange)="inputTouched()">
                    <button mat-icon-button matSuffix (click)="hide = !hide" type="button" class="icon-button">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                </div>
                <div style="height: 40px;">
                    <div *ngFor="let validation of validationMessages.password; let i = index">
                        <p class="error-message" *ngIf="accountDetails.get('password')?.hasError(validationMessages.password[i].type)
                            && accountDetails.get('password')?.dirty">
                            {{validationMessages.password[i].message}}
                        </p>
                    </div>
                </div>
            </div>

            <div style="display: flex;">
                <input class="input" [type]="hideNew ? 'password' : 'text'" formControlName="newPassword"
                    (ngModelChange)="inputTouched()">
                <button mat-icon-button matSuffix (click)="hideNew = !hideNew" type="button" class="icon-button">
                    <mat-icon>{{hideNew ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </div>
            <div style="height: 40px;">
                <div *ngFor="let validation of validationMessages.password; let i = index">
                    <p class="error-message"
                        *ngIf="accountDetails.get('newPassword')?.hasError(validationMessages.password[i].type) && accountDetails.get('newPassword')?.dirty">
                        {{validationMessages.password[i].message}}
                    </p>
                </div>
            </div>

            <div style="display: flex;">
                <input class="input" [type]="hideConfirm ? 'password' : 'text'" formControlName="confirmPassword"
                    (ngModelChange)="inputTouched()">
                <button mat-icon-button matSuffix (click)="hideConfirm = !hideConfirm" type="button"
                    class="icon-button">
                    <mat-icon>{{hideConfirm ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </div>
            <div style="height: 40px;">
                <div *ngFor="let validation of validationMessages.confirmPassword; let i = index">
                    <p class="error-message"
                        *ngIf="accountDetails.get('confirmPassword')?.hasError(validationMessages.confirmPassword[i].type) && accountDetails.get('confirmPassword')?.dirty">
                        {{validationMessages.confirmPassword[i].message}}
                    </p>
                </div>
            </div>
            <button class="save-button button" type="submit" (click)="save()">
                Salvar
            </button>
        </form>
    </div>
</div>